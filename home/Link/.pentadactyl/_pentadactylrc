" Loads plugins before trying to set options
loadplugins '\.(js|penta)$'

" Toggle site's permanently allowed status in Noscript 
map <A-S-s> :set<Space>nss!=<A-Tab>

" Toggle site's temporarily allowed status in Noscript 
map <A-s> :set<Space>nst!=<A-Tab>

" View Cookies
map <A-c> :cookies<Space><Tab>

" Ctrl shift p opens a private window
map -ex <C-S-p> :private winopen

" We have s[x] mappings, disable the internal s map so we remember to not use it
map -description 'Do not map me!' s <nop>

" Toggle show/hide address bar with ctrl shift t and only turn on the QrCodr extension when we can see it
map -ex <C-S-t> :set guioptions!=T | :exttoggle QrCodeR

" Toggle show/hide tabs with ctrl t. Toggles the tree autohide when tree is 'stowed'
map -ex <C-t> :set showtabline!=never,always
" I think I can workaround the bug with :js command? Idk. Here's an alternative
" st[owe] the tree!
map -ex st :set! extensions.treestyletab.tabbar.autoHide.mode=1
" Se[e] the tree!
map -ex se :set! extensions.treestyletab.tabbar.autoHide.mode=0

" Shift c closes the active window- because extension "minimize on start and close"
map -ex -modes normal C :winclose

" Shift enter to run the first result
map -modes command-line <S-Return> <Tab><Return>

" Let firefox handle tab closes with the d key instead of pentadactyl, so 'set tabclose' can work
map -modes normal d <C-w>

" Show all tabs in current window via firefox thing
" map -ex sw :emenu View.Show All Tabs

" Map x to search the firefox menu items
map -modes normal x :emenu<Space>

" Make it easier to add tags to bookmarks
map -modes normal -builtin a a -tags 

" Make sc center the selected text & draw a box
map -modes normal -ex sc :centerselect

" De-hilight, deselect, unbox search terms on page redraw (ctrl l)
map -builtin <C-l> :nohlfind | :removeselect<Return><C-l><Esc>

" F9 switches to the tab to the left
map -ex -modes normal,input <F9> :bprevious

" F12 switches to the tab to the right
map -ex -modes normal,input <F12> :bnext

" Make ctrl a select all in insert mode
map -modes input -builtin <C-a> <C-v><C-a>

" Make paste work the first time in insert mode
map -modes input -builtin <C-v> <C-v><C-v>

" Make undo work in insert mode
map -modes input -builtin <C-z> <C-v><C-z>

" Yank site url and title
map -modes normal -ex Ya :js util.copyToClipboard(buffer.URL+String.fromCharCode(10)+buffer.title)

" Yank site title
map -modes normal -ex Yt :js util.copyToClipboard(buffer.title)

" Let tabgroups manager handle b
"map -modes normal -description 'Switch to a grouped buffer' b :tabgroupedbuffer<Space>

" Let tabgroups manager handle B
"map -modes normal -description 'Show a list of grouped buffers' B -ex :tabgroupedbuffers

" List / switch tabgroups
"map -modes normal -description 'Switch to a tabgroup' B :tabgroup<Space>

" ZR restarts
map -modes normal ZR -ex restart

" Reclaim the v key
"unmap! -group plugin-tab-groups-manager

" For multi key mappings like st, wait infinitely after pressing the s key
set notimeout

" Sort downloads by whether or not they're currently downloading, and then the date the dl was initiated at, in descending order
set downloadsort=-active,-date

" Make sure scrollbars are removed, configure the statusbar, etc.
set guioptions=s

" Highlight all text matches when searching
set hlfind

" Turn off tabs by default
" Because of gay bugs tabs now autohide
" set showtabline=never

" Disable bell beep on errors
" javascript dactyl.beep = function() { return false; }

" After closing a tab, display to the last viewed tab.
set tabclose=previous

" Set the search provider
set defsearch=bing

" Tab complete engine names, bookmarks, things from firefox awesomebar, suggestions from specified engines, and local filesystem.
" The history option causes the browser to hang whenever trying to do something, so don't use it
set complete=native:urlinline,bookmark,location,suggestion,file

" Define which engines to get suggestions from in a generic search
set suggestengines=bing

" Set the window titlestring
set titlestring=Palemoon

" Smooth scrolling steps. Default is 5, 1 disables.
set scrollsteps=3

" Make sure cookies are rejected by default
set cookieaccept=none

" Set the cmd directory to home folder
silent cd ~

" Play a wav when downloads finish
autocmd DownloadPost -javascript * Audio("file://c:/users/Link/pentadactyl/masseffectbeep.wav").play()

" Type gow to open wallbase...
silent qmark w http://wallbase.cc
silent qmark a https://boards.4chan.org/a
silent qmark l https://www.archlinux.org/
silent qmark o https://bay171.mail.live.com/default.aspx?id=64855&owa=1&owasuffix=owa/
silent qmark x http://4xdcc.info/search.php, http://xdcc.me 
silent qmark i https://ixquick.com
silent qmark z http://amazon.com

colorscheme desert-mod
